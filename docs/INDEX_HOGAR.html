<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Gastos del Hogar</title>
    <!-- Iconos de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Librería de Gráficos (Chart.js) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="ESTILO_HOGAR.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Barra Lateral -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-home"></i> Gestor de Gastos
            </div>
            <nav class="sidebar-nav">
                <a href="#dashboard" class="active" data-section="dashboard">
                    <i class="fas fa-chart-pie"></i> Dashboard
                </a>
                <a href="#registrar" data-section="registrar">
                    <i class="fas fa-plus-circle"></i> Registrar Gasto
                </a>
                <a href="#gastos" data-section="gastos">
                    <i class="fas fa-list"></i> Historial de Gastos
                </a>
                <a href="#servicios" data-section="servicios">
                    <i class="fas fa-cogs"></i> Configurar Servicios
                </a>
                <a href="#presupuestos" data-section="presupuestos">
                    <i class="fas fa-chart-line"></i> Presupuestos
                </a>
                <a href="#reportes" data-section="reportes">
                    <i class="fas fa-file-alt"></i> Reportes
                </a>
            </nav>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content">
            <!-- Sección 1: Dashboard -->
            <section id="dashboard" class="content-section active">
                <h2><i class="fas fa-chart-pie"></i> Dashboard - Resumen de Gastos</h2>
                
                <!-- Botones de control -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button id="actualizarDashboardBtn" class="btn primary-btn">
                        <i class="fas fa-sync"></i> Actualizar Dashboard
                    </button>
                    <button id="generarReporteMensualBtn" class="btn secondary-btn">
                        <i class="fas fa-file-pdf"></i> Generar Reporte
                    </button>
                    <select id="mesFiltro" class="btn" style="background-color: white; color: #333;">
                        <option value="">Todos los meses</option>
                        <option value="1">Enero</option>
                        <option value="2">Febrero</option>
                        <option value="3">Marzo</option>
                        <option value="4">Abril</option>
                        <option value="5">Mayo</option>
                        <option value="6">Junio</option>
                        <option value="7">Julio</option>
                        <option value="8">Agosto</option>
                        <option value="9">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                    <select id="anioFiltro" class="btn" style="background-color: white; color: #333;">
                        <option value="">Todos los años</option>
                    </select>
                </div>
                
                <div id="statusDashboard" class="status-message"></div>

                <!-- Estadísticas Resumen -->
                <div class="stats-grid" id="statsContainer">
                    <!-- Las tarjetas de estadísticas se generarán dinámicamente -->
                </div>

                <!-- Gráficos -->
                <div class="chart-container">
                    <canvas id="graficoGastosServicios"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="graficoGastosMensuales"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="graficoEvolucion"></canvas>
                </div>
            </section>
            
            <!-- Sección 2: Registrar Gasto -->
            <section id="registrar" class="content-section">
                <h2><i class="fas fa-plus-circle"></i> Registrar Nuevo Gasto</h2>
                <p>Agrega un nuevo gasto para el control mensual de servicios del hogar.</p>
                
                <form id="gastoForm" class="form-grid">
                    <div class="form-group">
                        <label for="g_servicio">Servicio:</label>
                        <select id="g_servicio" required>
                            <option value="" disabled selected>Seleccionar servicio...</option>
                            <option value="LUZ">Luz</option>
                            <option value="AGUA">Agua</option>
                            <option value="INTERNET">Internet</option>
                            <option value="GAS">Gas</option>
                            <option value="ALIMENTOS">Alimentos</option>
                            <option value="MASCOTAS">Mascotas</option>
                            <option value="OTROS">Otros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="g_monto">Monto ($):</label>
                        <input type="number" id="g_monto" required min="0.01" step="0.01" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="g_fecha">Fecha:</label>
                        <input type="date" id="g_fecha" required>
                    </div>
                    <div class="form-group">
                        <label for="g_descripcion">Descripción (opcional):</label>
                        <input type="text" id="g_descripcion" placeholder="Ej: Factura mensual, compra semanal...">
                    </div>
                    <div class="form-group full-width">
                        <label for="g_observaciones">Observaciones:</label>
                        <textarea id="g_observaciones" rows="3" placeholder="Notas adicionales sobre este gasto..."></textarea>
                    </div>

                    <button type="submit" class="btn primary-btn full-width">
                        <i class="fas fa-save"></i> Registrar Gasto
                    </button>
                </form>
                <div id="statusGasto" class="status-message"></div>
            </section>

            <!-- Sección 3: Historial de Gastos -->
            <section id="gastos" class="content-section">
                <h2><i class="fas fa-list"></i> Historial de Gastos</h2>
                
                <!-- Filtros -->
                <div class="filter-container">
                    <div>
                        <label for="filtroServicio">Servicio:</label>
                        <select id="filtroServicio">
                            <option value="">Todos</option>
                            <option value="LUZ">Luz</option>
                            <option value="AGUA">Agua</option>
                            <option value="INTERNET">Internet</option>
                            <option value="GAS">Gas</option>
                            <option value="ALIMENTOS">Alimentos</option>
                            <option value="MASCOTAS">Mascotas</option>
                            <option value="OTROS">Otros</option>
                        </select>
                    </div>
                    <div>
                        <label for="filtroMes">Mes:</label>
                        <select id="filtroMes">
                            <option value="">Todos</option>
                            <option value="1">Enero</option>
                            <option value="2">Febrero</option>
                            <option value="3">Marzo</option>
                            <option value="4">Abril</option>
                            <option value="5">Mayo</option>
                            <option value="6">Junio</option>
                            <option value="7">Julio</option>
                            <option value="8">Agosto</option>
                            <option value="9">Septiembre</option>
                            <option value="10">Octubre</option>
                            <option value="11">Noviembre</option>
                            <option value="12">Diciembre</option>
                        </select>
                    </div>
                    <div>
                        <label for="filtroAnio">Año:</label>
                        <select id="filtroAnio">
                            <option value="">Todos</option>
                        </select>
                    </div>
                    <button id="aplicarFiltrosBtn" class="btn secondary-btn">
                        <i class="fas fa-filter"></i> Aplicar Filtros
                    </button>
                    <button id="limpiarFiltrosBtn" class="btn warning-btn">
                        <i class="fas fa-times"></i> Limpiar
                    </button>
                    <button id="exportarDatosBtn" class="btn primary-btn">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>

                <div id="statusHistorial" class="status-message"></div>
                
                <!-- Tabla de gastos -->
                <div style="max-height: 600px; overflow-y: auto; margin-top: 20px;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Fecha</th>
                                <th>Servicio</th>
                                <th>Monto</th>
                                <th>Mes/Año</th>
                                <th>Descripción</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="historialTableBody">
                            <tr><td colspan="7">Cargando datos...</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Resumen del filtro -->
                <div id="resumenFiltro" style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
                    <strong>Resumen:</strong> <span id="totalFiltrado">0</span> gastos - Total: $<span id="montoFiltrado">0.00</span>
                </div>
            </section>

            <!-- Sección 4: Configurar Servicios -->
            <section id="servicios" class="content-section">
                <h2><i class="fas fa-cogs"></i> Configurar Servicios</h2>
                <p>Administra los servicios disponibles y sus presupuestos mensuales.</p>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="s_nombre">Nombre del Servicio:</label>
                        <input type="text" id="s_nombre" placeholder="Ej: Netflix, Teléfono...">
                    </div>
                    <div class="form-group">
                        <label for="s_color">Color (código HEX):</label>
                        <input type="color" id="s_color" value="#3498db">
                    </div>
                    <div class="form-group">
                        <label for="s_presupuesto">Presupuesto Mensual ($):</label>
                        <input type="number" id="s_presupuesto" min="0" step="0.01" placeholder="0.00">
                    </div>
                    <button id="agregarServicioBtn" class="btn secondary-btn">
                        <i class="fas fa-plus"></i> Agregar Servicio
                    </button>
                </div>
                
                <div id="statusServicios" class="status-message"></div>
                
                <h3>Servicios Configurados:</h3>
                <div id="listaServicios" class="stats-grid" style="margin-top: 20px;">
                    <!-- Los servicios se cargarán dinámicamente -->
                </div>
            </section>

            <!-- Sección 5: Presupuestos -->
            <section id="presupuestos" class="content-section">
                <h2><i class="fas fa-chart-line"></i> Control de Presupuestos</h2>
                <p>Gestión de presupuestos mensuales por servicio.</p>
                
                <div class="filter-container">
                    <div>
                        <label for="presupuestoMes">Mes:</label>
                        <select id="presupuestoMes">
                            <option value="">Seleccionar mes</option>
                            <option value="1">Enero</option>
                            <option value="2">Febrero</option>
                            <option value="3">Marzo</option>
                            <option value="4">Abril</option>
                            <option value="5">Mayo</option>
                            <option value="6">Junio</option>
                            <option value="7">Julio</option>
                            <option value="8">Agosto</option>
                            <option value="9">Septiembre</option>
                            <option value="10">Octubre</option>
                            <option value="11">Noviembre</option>
                            <option value="12">Diciembre</option>
                        </select>
                    </div>
                    <div>
                        <label for="presupuestoAnio">Año:</label>
                        <input type="number" id="presupuestoAnio" min="2020" max="2030" placeholder="2024">
                    </div>
                    <button id="cargarPresupuestosBtn" class="btn primary-btn">
                        <i class="fas fa-chart-bar"></i> Ver Presupuestos
                    </button>
                </div>
                
                <div id="statusPresupuestos" class="status-message"></div>
                
                <div id="tablaPresupuestos" style="margin-top: 20px;">
                    <!-- Tabla de presupuestos se generará dinámicamente -->
                </div>
                
                <div class="chart-container" style="margin-top: 30px;">
                    <canvas id="graficoPresupuestos"></canvas>
                </div>
            </section>

            <!-- Sección 6: Reportes -->
            <section id="reportes" class="content-section">
                <h2><i class="fas fa-file-alt"></i> Reportes y Análisis</h2>
                
                <div class="form-grid">
                    <button id="reporteMensualBtn" class="btn primary-btn">
                        <i class="fas fa-calendar-alt"></i> Reporte Mensual
                    </button>
                    <button id="reporteAnualBtn" class="btn secondary-btn">
                        <i class="fas fa-chart-bar"></i> Reporte Anual
                    </button>
                    <button id="comparativoBtn" class="btn warning-btn">
                        <i class="fas fa-balance-scale"></i> Comparativo
                    </button>
                    <button id="tendenciasBtn" class="btn" style="background-color: var(--violet-color); color: white;">
                        <i class="fas fa-chart-line"></i> Tendencias
                    </button>
                </div>
                
                <div id="statusReportes" class="status-message"></div>
                
                <div class="chart-container" style="margin-top: 30px;">
                    <canvas id="graficoReportes"></canvas>
                </div>
                
                <div id="detalleReporte" style="margin-top: 30px;">
                    <!-- Detalle del reporte se generará dinámicamente -->
                </div>
            </section>
        </main>
    </div>

  <link rel="stylesheet" href="ESTILO_HOGAR.css">
<script src="SCRIPT_1.js"></script>
</body>
</html>